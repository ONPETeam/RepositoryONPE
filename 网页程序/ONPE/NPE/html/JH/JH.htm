<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>进度安排</title>
    <link rel="stylesheet" type="text/css" href="../../Scripts/EasyUI/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../Scripts/EasyUI/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="../../Scripts/EasyUI/themes/color.css">
    <link rel="stylesheet" type="text/css" href="../../Scripts/EasyUI/demo/demo.css">
    <link rel="stylesheet" type="text/css" href="../../css/fitem.css">
    <script type="text/javascript" src="../../Scripts/EasyUI/jquery.min.js"></script>
    <script type="text/javascript" src="../../Scripts/EasyUI/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../Scripts/Common/common.js"></script>
</head>
<body>
<table id="JDAP" style="height: 550px; width: 100%">
    </table>

</body>
</html>

<script language="javascript" type="text/javascript">
    $(function () {
        $('#JDAP').datagrid({
            url: '../../ashx/JH/JH.ashx?type=grid',
            //            height: 'auto',
            method: 'post',
            striped: true,
            singleSelect: true,
            loadMsg: "正在努力加载数据，请稍后...",
            pagination: true, //分页控件
            pagePosition: 'bottom', //分页控件位置
            hideColumn: 'JH_RWID',
            remoteSort: false,
            //pageSize: 1,
            columns: [[
                //{ field: 'JH_RWID', title: '工作进度编号', width: 150, align: 'center' },
                {field: 'JH_RWName', title: '工作进度名称', width: 220, align: 'center' },
                { field: 'JH_RWNameMX', title: '工作进度内容', width: 150, align: 'center', formatter: remarkFormater},
                { field: 'JH_RWBTime', title: '计划开始时间', width: 150, align: 'center', sortable: true },
                { field: 'JH_RWETime', title: '计划结束时间', width: 150, align: 'center', sortable: true },
                { field: 'JH_RWETimeSJ', title: '实际结束时间', width: 150, align: 'center', sortable: true },
                { field: 'JH_RWUser', title: '工作负责人', width: 150, align: 'center' },
                { field: 'JH_RWDo', title: '完成状态', width: 150, align: 'center', sortable: true },
                { field: 'JH_RWRemark', title: '备注', width: 150, align: 'center' }
            ]],
            
            onLoadSuccess: function (data) {
                for (var i = 0; i < data.rows.length; i++) {
                    if (data.rows[i].JH_RWNameMX != undefined) {
                        var content = data.rows[i].JH_RWNameMX;
                        toolcontent = "<tr><td>具体内容：" + content + " </td></tr>";
                    }
                    toolTipContent = "<table style='width:200px;'>" + toolcontent + "</table>";
                    addTooltip(toolTipContent, 'content-' + i);

                }
            }
        });
        //设置分页控件  
        var p = $('#JDAP').datagrid('getPager');
        $(p).pagination({
            pageSize: 20, //每页显示的记录条数，默认为10 
            pageList: [20, 30, 50], //可以设置每页记录条数的列表 
            beforePageText: '第', //页数文本框前显示的汉字 
            afterPageText: '页    共 {pages} 页',
            displayMsg: '当前显示 {from} - {to} 条记录   共 {total} 条记录'
        });


    });

    
</script>
